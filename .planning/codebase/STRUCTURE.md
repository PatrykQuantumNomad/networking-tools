# Codebase Structure

**Analysis Date:** 2026-02-10

## Directory Layout

```
networking-tools/
├── scripts/                    # Core tool scripts (shared utilities + individual tools)
│   ├── common.sh              # Shared bash functions (colors, validation, logging)
│   ├── check-tools.sh         # Tool installation detector
│   ├── aircrack-ng/           # WiFi security/cracking
│   ├── foremost/              # File carving & recovery
│   ├── hashcat/               # GPU password cracking
│   ├── hping3/                # Packet crafting & network probing
│   ├── john/                  # Password cracking
│   ├── metasploit/            # Exploitation framework
│   ├── nikto/                 # Web server vulnerability scanner
│   ├── nmap/                  # Network scanning & host discovery
│   ├── skipfish/              # Web app security scanner
│   ├── sqlmap/                # SQL injection automation
│   └── tshark/                # Packet capture & analysis
├── labs/                      # Vulnerable Docker practice targets
│   └── docker-compose.yml     # 4 intentionally vulnerable services
├── notes/                     # Detailed tool documentation
│   ├── nmap.md
│   ├── tshark.md
│   ├── metasploit.md
│   ├── aircrack-ng.md
│   ├── hashcat.md
│   ├── skipfish.md
│   ├── sqlmap.md
│   ├── hping3.md
│   ├── john.md
│   ├── nikto.md
│   ├── foremost.md
│   └── lab-walkthrough.md     # Complete learning progression
├── wordlists/                 # Password cracking dictionaries
│   ├── download.sh            # Downloads rockyou.txt
│   └── rockyou.txt            # 14MB common passwords (generated by download.sh)
├── .planning/codebase/        # GSD codebase analysis output
│   ├── ARCHITECTURE.md
│   ├── CONVENTIONS.md
│   └── STRUCTURE.md
├── Makefile                   # Convenience targets for tools and lab
├── README.md                  # Main quick start and tool overview
├── CLAUDE.md                  # Claude Code project guidelines
├── USECASES.md                # Task-based reference (how to do specific security jobs)
└── .gitignore                 # Excludes node_modules, .env, lab outputs
```

## Directory Purposes

**scripts/:**
- Purpose: All executable bash scripts organized by tool
- Contains: Main examples.sh for each tool, use-case specific scripts, shared utilities
- Key files: `common.sh` (foundation), `check-tools.sh` (detector), then 11 tool directories

**scripts/common.sh:**
- Purpose: Foundational utilities shared by all scripts
- Contains: Color codes, validation functions (require_cmd, require_root, require_target), logging (info, warn, error, success), command checking, project root resolution
- Sourced by: Every examples.sh and use-case script in the framework

**scripts/check-tools.sh:**
- Purpose: Detect installed pentesting tools and report versions
- Contains: TOOLS associative array with install hints, TOOL_ORDER for display ordering, version detection logic
- Entry point: `make check` or `bash scripts/check-tools.sh`

**scripts/<tool>/ (11 directories):**
- Purpose: Organize all scripts related to a single tool
- Contains: `examples.sh` (generic examples), use-case scripts (specific tasks), sample files where applicable
- Pattern: Each tool has at least `examples.sh` following the standard pattern

**scripts/nmap/ (4 files):**
- `examples.sh` — 10 generic nmap scanning examples
- `discover-live-hosts.sh` — Find active hosts on subnet (use-case)
- `identify-ports.sh` — Service identification (use-case)
- `scan-web-vulnerabilities.sh` — Web service vulnerability detection (use-case)

**scripts/tshark/ (4 files):**
- `examples.sh` — 10 generic tshark examples
- `capture-http-credentials.sh` — Extract HTTP auth from traffic (use-case)
- `analyze-dns-queries.sh` — Monitor DNS activity (use-case)
- `extract-files-from-capture.sh` — Carve files from pcap (use-case)

**scripts/metasploit/ (4 files):**
- `examples.sh` — 10 generic msfconsole examples
- `generate-reverse-shell.sh` — Create payloads (use-case)
- `scan-network-services.sh` — Enumerate services (use-case)
- `setup-listener.sh` — Receive reverse shells (use-case)

**scripts/hashcat/ (4 files + samples/):**
- `examples.sh` — 10 generic hashcat examples
- `crack-ntlm-hashes.sh` — Windows NTLM cracking (use-case)
- `crack-web-hashes.sh` — Web app hash cracking (use-case)
- `benchmark-gpu.sh` — GPU performance testing (use-case)
- `samples/` — Sample hash files for testing

**scripts/john/ (4 files + samples/):**
- `examples.sh` — 10 generic john examples
- `crack-linux-passwords.sh` — /etc/shadow cracking (use-case)
- `crack-archive-passwords.sh` — ZIP/RAR password recovery (use-case)
- `identify-hash-type.sh` — Hash type detection (use-case)
- `samples/` — Sample hash files for testing

**scripts/nikto/ (4 files):**
- `examples.sh` — 10 generic nikto examples
- `scan-specific-vulnerabilities.sh` — Targeted vuln scanning (use-case)
- `scan-multiple-hosts.sh` — Batch scanning (use-case)
- `scan-with-auth.sh` — Authenticated scanning (use-case)

**scripts/sqlmap/ (4 files):**
- `examples.sh` — 10 generic sqlmap examples
- `test-all-parameters.sh` — Comprehensive SQLi detection (use-case)
- `dump-database.sh` — Data extraction via SQLi (use-case)
- `bypass-waf.sh` — WAF evasion with tamper scripts (use-case)

**scripts/skipfish/ (3 files):**
- `examples.sh` — 10 generic skipfish examples
- `quick-scan-web-app.sh` — Time-limited scan (use-case)
- `scan-authenticated-app.sh` — Auth-aware scanning (use-case)

**scripts/hping3/ (3 files):**
- `examples.sh` — 10 generic hping3 examples
- `test-firewall-rules.sh` — Packet crafting for firewall testing (use-case)
- `detect-firewall.sh` — Firewall presence detection (use-case)

**scripts/aircrack-ng/ (4 files):**
- `examples.sh` — 10 generic aircrack-ng examples
- `capture-handshake.sh` — WPA handshake capture (use-case)
- `crack-wpa-handshake.sh` — WPA cracking (use-case)
- `analyze-wireless-networks.sh` — WiFi survey (use-case)

**scripts/foremost/ (4 files):**
- `examples.sh` — 10 generic foremost examples
- `recover-deleted-files.sh` — File recovery (use-case)
- `carve-specific-filetypes.sh` — Targeted file carving (use-case)
- `analyze-forensic-image.sh` — Disk image analysis (use-case)

**labs/:**
- Purpose: Docker Compose configuration for practice targets
- Contains: Single `docker-compose.yml` file defining 4 intentionally vulnerable services
- Usage: `make lab-up` to start, `make lab-down` to stop

**labs/docker-compose.yml:**
- Purpose: Define vulnerable services for safe practice
- Contains: DVWA (classic vuln app), Juice Shop (modern OWASP), WebGoat (teaching platform), VulnerableApp (Java/multi-vuln)
- Services map to ports: 8080 (DVWA), 3030 (Juice Shop), 8888 (WebGoat), 8180 (VulnerableApp)

**notes/:**
- Purpose: Detailed tool-specific documentation and learning resources
- Contains: 12 markdown files, one per tool plus lab-walkthrough
- Each file has: flags, key commands, example progressions, tips, common pitfalls

**notes/lab-walkthrough.md:**
- Purpose: Complete learning flow from discovery through exploitation
- Contains: Step-by-step engagement progression, practical examples, when to use which tool

**wordlists/:**
- Purpose: Store password dictionaries for cracking operations
- Contains: `download.sh` script and generated `rockyou.txt` (14MB)
- Usage: `make wordlists` to download rockyou.txt if not present

**Root Level Files:**

- `Makefile` — 40+ convenience targets for tools, lab management, and use-cases
- `README.md` — Quick start, tool overview, lab targets, platform limitations, legal disclaimer
- `CLAUDE.md` — AI-specific project guidelines: architecture overview, script pattern, adding tools
- `USECASES.md` — Task-to-tool mapping: find X with tool Y, with exact make commands and scripts
- `.gitignore` — Excludes: node_modules/, .env, build artifacts, lab outputs

## Key File Locations

**Entry Points:**
- `Makefile` — Primary user-facing interface (40+ targets)
- `scripts/check-tools.sh` — Tool installation detection
- `scripts/<tool>/examples.sh` — Generic examples for each tool (11 files)
- `scripts/<tool>/<use-case>.sh` — Task-specific workflows (28 total)

**Configuration:**
- `labs/docker-compose.yml` — Defines vulnerable practice targets
- `.gitignore` — Specifies what to exclude from version control

**Core Logic:**
- `scripts/common.sh` — Shared utility functions (85 lines)
- `Makefile` — Tool orchestration and convenience targets (~160 lines)

**Testing:**
- `scripts/<tool>/samples/` — Sample files for hashcat and john testing

**Documentation:**
- `README.md` — Main documentation (80+ lines)
- `CLAUDE.md` — AI guidelines (73 lines)
- `USECASES.md` — Task reference (100 lines)
- `notes/<tool>.md` — Tool-specific guides (11 files, ~6-15KB each)

## Naming Conventions

**Files:**
- Shell scripts: `.sh` extension
- Examples scripts: `examples.sh` (consistent naming across all tools)
- Use-case scripts: `<action>-<object>.sh` pattern
  - Examples: `discover-live-hosts.sh`, `crack-ntlm-hashes.sh`, `capture-http-credentials.sh`
  - Pattern is action-noun, lowercase with hyphens
- Sample files: In `samples/` subdirectory under each tool
- Wordlists: `rockyou.txt` (common password dictionary)
- Docker: `docker-compose.yml` (standard Docker Compose naming)

**Directories:**
- Tool directories: lowercase tool name, no special characters
  - Examples: `nmap`, `tshark`, `sqlmap`, `aircrack-ng`
- Organization directories: `scripts/`, `labs/`, `notes/`, `wordlists/`

**Functions in Bash:**
- Private/utility functions: lowercase_with_underscores
  - Examples: `require_cmd`, `check_cmd`, `safety_banner`, `is_interactive`
- Logging functions: one-word lowercase
  - Examples: `info`, `warn`, `error`, `success`
- Arrays: UPPERCASE for configuration/constants
  - Examples: TOOLS, TOOL_ORDER, color codes (RED, GREEN, YELLOW, etc.)

**Variables:**
- Constants: UPPERCASE (RED, GREEN, PROJECT_ROOT, TOOLS)
- Local variables: lowercase_with_underscores (tool, cmd, version, target)
- Command variables: UPPERCASE when captured globally (TARGET, PROJECT_ROOT)

## Where to Add New Code

**New Tool (11th tool + more):**
- Create directory: `scripts/<tool-name>/`
- Create main script: `scripts/<tool-name>/examples.sh` following standard pattern
  - Source `common.sh`
  - Define `show_help()` function
  - Check help flags
  - `require_cmd <tool>`
  - `require_target` if needed
  - `safety_banner`
  - Print 10 numbered examples
  - Interactive demo section
- Add to tool detection: Update `scripts/check-tools.sh`
  - Add entry to TOOLS associative array: `[tool-name]="install command"`
  - Add to TOOL_ORDER array: `tool-name`
- Optional Makefile target: Add line to Makefile for `make <tool-name>`

**New Use-Case Script (29th+):**
- Create: `scripts/<existing-tool>/<action>-<object>.sh`
- Follow pattern: source common.sh, help function, validation, banner, educational context, 10+ examples, demo
- Add Makefile target: New line mapping to script with appropriate variable passing

**New Lab Target:**
- Edit: `labs/docker-compose.yml`
- Add service: with image, ports, restart policy
- Document in: README.md (table) and docker-compose.yml (comments)
- Test: `make lab-up` and verify at mapped port

**Documentation:**
- Tool guides: `notes/<tool-name>.md` (one per tool if not already present)
- Task reference: Update `USECASES.md` with new task in appropriate category
- Quick start: Update `README.md` tools table if adding new tool
- Usage patterns: Update `CLAUDE.md` if architectural patterns change

**Utilities:**
- New shared function: Add to `scripts/common.sh`
  - Must be sourced by all tool scripts
  - Keep focused and reusable
  - Document purpose in comments

## Special Directories

**scripts/:**
- Purpose: All executable tool demonstrations and use-cases
- Generated: No (all committed scripts)
- Committed: Yes (core of project)
- Permissions: Executable (+x) for all .sh files

**labs/:**
- Purpose: Docker infrastructure for practice targets
- Generated: No (only the docker-compose.yml)
- Committed: Yes
- Runtime artifacts: Generated by `docker compose up -d` (containers, volumes)

**notes/:**
- Purpose: Detailed documentation and learning progression
- Generated: No (all hand-written)
- Committed: Yes (important for learners)

**wordlists/:**
- Purpose: Password dictionaries for cracking
- Generated: Partially (rockyou.txt generated by download.sh)
- Committed: No for rockyou.txt (in .gitignore due to size)
- Usage: `make wordlists` to download

**.planning/codebase/:**
- Purpose: GSD system codebase analysis (for other GSD commands)
- Generated: By `/gsd:map-codebase` command
- Committed: Yes (analysis artifacts)

**node_modules/, .env, lab outputs:**
- Purpose: Excluded from version control
- Generated: By tools/containers
- Committed: No (in .gitignore)

---

*Structure analysis: 2026-02-10*
