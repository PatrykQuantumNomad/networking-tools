# Milestone v1.0: Networking Tools Expansion

**Status:** SHIPPED 2026-02-11
**Phases:** 1-7
**Total Plans:** 19

## Overview

Transformed a bash-first pentesting learning lab into a comprehensive networking toolkit with an Astro/Starlight documentation site, diagnostic auto-report scripts, and five new networking tools. The 7 phases followed dependency order: infrastructure extensions first (common.sh, site scaffold, CI), then tool onboarding (dig, curl, netcat), then diagnostic scripts that depend on those tools, then content migration into the live site, then advanced tools (traceroute/mtr), site polish, and finally web enumeration tools (gobuster/ffuf). Every phase delivered a coherent, verifiable capability.

## Phases

### Phase 1: Foundations and Site Scaffold

**Goal**: The infrastructure that all subsequent phases build on is in place -- common.sh supports diagnostic reports, the Astro site deploys to GitHub Pages with correct base path, and Makefile conventions are established for new targets.
**Depends on**: Nothing (first phase)
**Plans**: 3 plans

Plans:
- [x] 01-01-PLAN.md — common.sh diagnostic extensions (report_pass/fail/warn/skip, report_section, run_check)
- [x] 01-02-PLAN.md — Astro Starlight site scaffold with correct base path, landing page, sidebar, and Makefile targets
- [x] 01-03-PLAN.md — GitHub Actions workflow deploying to GitHub Pages via withastro/action

**Details:**
- Added 7 diagnostic report functions and portable timeout wrapper to common.sh
- Scaffolded Astro 5.x + Starlight site with /networking-tools base path, landing page, three-category sidebar
- Created GitHub Actions workflow with withastro/action and actions/deploy-pages

**Completed:** 2026-02-10

---

### Phase 2: Core Networking Tools

**Goal**: Users can learn and reference dig, curl, and netcat through the established 10-example pattern with task-focused use-case scripts, and the project tooling (check-tools.sh, Makefile) recognizes all three new tools.
**Depends on**: Phase 1 (Makefile conventions, common.sh)
**Plans**: 3 plans

Plans:
- [x] 02-01-PLAN.md — dig examples.sh + 3 use-case scripts + check-tools.sh and Makefile integration
- [x] 02-02-PLAN.md — curl examples.sh + 3 use-case scripts + check-tools.sh and Makefile integration
- [x] 02-03-PLAN.md — netcat examples.sh with variant detection + 3 use-case scripts + check-tools.sh and Makefile integration

**Details:**
- dig: 10 examples + query-dns-records, check-dns-propagation, attempt-zone-transfer
- curl: 10 examples + test-http-endpoints, check-ssl-certificate, debug-http-response
- netcat: detect_nc_variant() for OpenBSD/GNU/ncat + scan-ports, setup-listener, transfer-files

**Completed:** 2026-02-10

---

### Phase 3: Diagnostic Scripts

**Goal**: Users can run a single command to get a structured DNS or connectivity diagnostic report with pass/fail/warn indicators, establishing the Pattern B auto-report approach for all future diagnostic scripts.
**Depends on**: Phase 1 (common.sh report_* functions), Phase 2 (dig, curl, nc available for testing)
**Plans**: 2 plans

Plans:
- [x] 03-01-PLAN.md — DNS diagnostic script (scripts/diagnostics/dns.sh) establishing Pattern B + diagnose-dns Makefile target
- [x] 03-02-PLAN.md — Connectivity diagnostic script (scripts/diagnostics/connectivity.sh) + diagnose-connectivity Makefile target + USECASES.md diagnostic entries

**Details:**
- DNS diagnostic: 4-section structured report (Resolution, Record Types, Propagation, Reverse DNS)
- Connectivity diagnostic: 7-layer testing (DNS->ICMP->TCP->HTTP->TLS->Timing)
- Cross-platform helpers with macOS-first detection, BSD/GNU compatibility

**Completed:** 2026-02-10

---

### Phase 4: Content Migration and Tool Pages

**Goal**: The Astro site contains documentation for all existing and new tools plus diagnostic scripts, making the site the authoritative reference for the project with a getting-started guide for new users.
**Depends on**: Phase 1 (site scaffold), Phase 2 (new tool scripts exist), Phase 3 (diagnostic scripts exist)
**Plans**: 3 plans

Plans:
- [x] 04-01-PLAN.md — Migrate 11 existing tool pages and lab walkthrough from notes/*.md to site with Starlight frontmatter
- [x] 04-02-PLAN.md — Create new tool pages (dig, curl, netcat) and diagnostic docs (DNS, connectivity)
- [x] 04-03-PLAN.md — Getting-started guide

**Details:**
- Migrated 11 tool pages with sidebar ordering grouped by function (network, web, exploit, cracking, wireless, forensics)
- Created dig/curl/netcat tool pages and DNS/connectivity diagnostic pages with severity tables
- Getting-started guide with verified make targets and corrected lab port numbers (3030 for Juice Shop)

**Completed:** 2026-02-10

---

### Phase 5: Advanced Tools

**Goal**: Users can learn traceroute/mtr through educational examples and use-case scripts, and can run a performance diagnostic that identifies where latency occurs hop-by-hop.
**Depends on**: Phase 1 (common.sh), Phase 3 (diagnostic pattern established)
**Plans**: 2 plans

Plans:
- [x] 05-01-PLAN.md — traceroute/mtr examples.sh + 3 use-case scripts + check-tools.sh/Makefile/USECASES.md integration
- [x] 05-02-PLAN.md — Performance diagnostic script (scripts/diagnostics/performance.sh) + site pages (traceroute.md, performance.md)

**Details:**
- traceroute/mtr: platform-specific TCP flags, macOS sudo gating, _run_with_timeout wrapper
- Use-case scripts: trace-network-path, diagnose-latency, compare-routes
- Performance diagnostic: per-hop latency analysis with 50ms spike threshold

**Completed:** 2026-02-10

---

### Phase 6: Site Polish and Learning Paths

**Goal**: The site goes beyond reference documentation to become a guided learning resource with task-organized navigation, structured learning paths, and cross-referenced tool pages.
**Depends on**: Phase 4 (all core content migrated), Phase 5 (traceroute/mtr content)
**Plans**: 3 plans

Plans:
- [x] 06-01-PLAN.md — Rename tool pages to .mdx, add OS-specific install tabs, add cross-reference sections
- [x] 06-02-PLAN.md — Task index page, three learning path pages, lab walkthrough asides
- [x] 06-03-PLAN.md — CI docs-completeness validation script and workflow integration

**Details:**
- Converted 15 tool pages to MDX with synced OS-specific install tabs (Tabs with syncKey="os")
- Task index: 41 tool links organized by task; 3 learning paths (Recon, Web App, Network Debug)
- CI validation: check-docs-completeness.sh as fail-fast step in deploy workflow

**Completed:** 2026-02-10

---

### Phase 7: Web Enumeration Tools

**Goal**: Users can learn gobuster and ffuf for web content discovery and fuzzing, with wordlist infrastructure that makes the tools immediately usable against lab targets.
**Depends on**: Phase 2 (tool pattern established), Phase 4 (site ready for new tool pages)
**Plans**: 3 plans

Plans:
- [x] 07-01-PLAN.md — gobuster examples.sh + 2 use-case scripts + check-tools.sh/Makefile integration + gobuster.mdx site page
- [x] 07-02-PLAN.md — ffuf examples.sh + 1 use-case script + check-tools.sh/Makefile integration + ffuf.mdx site page
- [x] 07-03-PLAN.md — Wordlist download extension for SecLists directories/subdomains + USECASES.md web enumeration entries

**Details:**
- gobuster: discover-directories, enumerate-subdomains with -do flag for DNS mode (v3.6+)
- ffuf: fuzz-parameters with FUZZ keyword positioning guide
- Wordlist downloader extended with 3 SecLists files for web enumeration

**Completed:** 2026-02-11

---

## Milestone Summary

**Key Decisions:**
- Astro over Jekyll/Hugo for GitHub Pages (modern component islands, great markdown + interactive mixing)
- Diagnostic scripts as auto-report Pattern B (run-one-command, not interactive walkthroughs)
- 7-phase dependency ordering (infra -> tools -> diagnostics -> content -> advanced -> polish -> enumeration)
- detect_nc_variant() exclusion-based detection (Apple fork does not self-identify)
- Counter wrapper functions (count_pass/fail/warn) for clean diagnostic tallying
- macOS-first for platform detection (ifconfig on Darwin, ip on Linux)
- || true guards on pipefail-sensitive patterns (grep, arithmetic, nc -h)
- -t 10 thread limit on gobuster/ffuf for Docker lab safety

**Issues Resolved:**
- gobuster DNS mode -d vs -do flag incompatibility with v3.6+ (fixed in commit 675ee19)
- set -e exit on empty output in run_check (fixed with || true guard)
- dig -v outputs to stderr requiring 2>&1 redirect
- nc -h exits non-zero on macOS/OpenBSD requiring || true guard
- REQUIREMENTS.md summary count discrepancy (stated 33/16/2, actual 37/21/2)

**Issues Deferred:**
- GitHub Pages live deployment browser verification (workflow structure verified programmatically)
- DIAG-008: DNS comparison mode (multi-resolver) — deferred to v2+
- DIAG-009: Machine-parseable output (--json) — deferred to v2+

**Technical Debt Incurred:**
- REQUIREMENTS.md traceability table shows all statuses as "Pending" despite all being satisfied (cosmetic)
- 5 original tools lack generic `make <tool>` targets (by design, not a gap)

---

_For current project status, see .planning/PROJECT.md_
