---
phase: 07-web-enumeration-tools
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - scripts/gobuster/examples.sh
  - scripts/gobuster/discover-directories.sh
  - scripts/gobuster/enumerate-subdomains.sh
  - scripts/check-tools.sh
  - Makefile
  - site/src/content/docs/tools/gobuster.mdx
autonomous: true

must_haves:
  truths:
    - "Running bash scripts/gobuster/examples.sh <url> prints 10 numbered educational examples for gobuster"
    - "Running make discover-dirs TARGET=<url> discovers directories against a target"
    - "Running make enum-subdomains TARGET=<domain> enumerates subdomains"
    - "make check detects gobuster with clear install hints (Homebrew + Go install)"
    - "CI docs-completeness check passes with gobuster.mdx present"
  artifacts:
    - path: "scripts/gobuster/examples.sh"
      provides: "10 numbered gobuster examples following Pattern A"
      min_lines: 80
    - path: "scripts/gobuster/discover-directories.sh"
      provides: "Directory enumeration use-case with wordlist check"
      min_lines: 60
    - path: "scripts/gobuster/enumerate-subdomains.sh"
      provides: "DNS subdomain enumeration use-case"
      min_lines: 60
    - path: "site/src/content/docs/tools/gobuster.mdx"
      provides: "Site documentation with install tabs"
      contains: "import { Tabs, TabItem }"
  key_links:
    - from: "scripts/gobuster/examples.sh"
      to: "scripts/common.sh"
      via: "source directive"
      pattern: 'source.*common\.sh'
    - from: "scripts/gobuster/discover-directories.sh"
      to: "wordlists/"
      via: "WORDLIST variable pointing to PROJECT_ROOT/wordlists/"
      pattern: 'PROJECT_ROOT.*wordlists'
    - from: "scripts/check-tools.sh"
      to: "gobuster"
      via: "TOOLS array and TOOL_ORDER"
      pattern: "\\[gobuster\\]"
    - from: "Makefile"
      to: "scripts/gobuster/examples.sh"
      via: "gobuster target"
      pattern: "gobuster:.*scripts/gobuster"
---

<objective>
Create gobuster examples.sh with 10 educational examples, two use-case scripts (discover-directories, enumerate-subdomains), integrate into check-tools.sh and Makefile, and add the gobuster.mdx site documentation page.

Purpose: Deliver a complete gobuster learning experience following the established tool pattern, with site docs to pass CI validation.
Output: 3 new scripts in scripts/gobuster/, updated check-tools.sh and Makefile, new gobuster.mdx site page.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-web-enumeration-tools/07-RESEARCH.md

@scripts/traceroute/examples.sh
@scripts/traceroute/trace-network-path.sh
@scripts/check-tools.sh
@Makefile
@site/src/content/docs/tools/traceroute.mdx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create gobuster examples.sh and two use-case scripts</name>
  <files>
    scripts/gobuster/examples.sh
    scripts/gobuster/discover-directories.sh
    scripts/gobuster/enumerate-subdomains.sh
  </files>
  <action>
    Create scripts/gobuster/ directory and three scripts following the exact Pattern A and use-case patterns.

    **examples.sh** (Pattern A -- 10 educational examples):
    - Shebang: #!/usr/bin/env bash
    - Source common.sh: source "$(dirname "$0")/../common.sh"
    - show_help() with Usage/Description/Examples
    - Help flag check: [[ "${1:-}" =~ ^(-h|--help)$ ]] && show_help && exit 0
    - require_cmd gobuster "brew install gobuster (or: go install github.com/OJ/gobuster/v3@latest)"
    - require_target "${1:-}"
    - safety_banner
    - TARGET="$1"
    - info "=== Gobuster Examples ===" header
    - 10 numbered examples covering:
      1) Basic directory enumeration: gobuster dir -u $TARGET -w wordlists/common.txt
      2) Directory enum with file extensions: gobuster dir -u $TARGET -w wordlists/common.txt -x php,html,txt
      3) Filter by status codes: gobuster dir -u $TARGET -w wordlists/common.txt -s 200,301
      4) Larger wordlist for thorough scanning: gobuster dir -u $TARGET -w wordlists/directory-list-2.3-small.txt -t 10
      5) Hide specific status codes: gobuster dir -u $TARGET -w wordlists/common.txt -b 404,403
      6) Add custom headers (cookies/auth): gobuster dir -u $TARGET -w wordlists/common.txt -H "Cookie: session=abc123"
      7) DNS subdomain enumeration: gobuster dns -do example.com -w wordlists/subdomains-top1million-5000.txt (use -do not -d per research)
      8) DNS with custom resolver: gobuster dns -do example.com -w wordlists/subdomains-top1million-5000.txt -r 8.8.8.8:53
      9) Virtual host discovery: gobuster vhost -u $TARGET --append-domain -w wordlists/subdomains-top1million-5000.txt
      10) Save output to file: gobuster dir -u $TARGET -w wordlists/common.txt -o gobuster-results.txt
    - Use -t 10 in all examples to keep thread count safe for lab targets
    - Interactive demo: check wordlist exists at $PROJECT_ROOT/wordlists/common.txt first; if missing, print "Run: make wordlists" and skip demo. If present: run "gobuster dir -u $TARGET -w $PROJECT_ROOT/wordlists/common.txt -t 10" with || true guard.

    **discover-directories.sh** (use-case script):
    - Source common.sh, show_help, help flag check
    - require_cmd gobuster with same install hint
    - TARGET="${1:-http://localhost:8080}" (sensible default -- DVWA)
    - Accept optional second argument for wordlist: WORDLIST="${2:-$PROJECT_ROOT/wordlists/common.txt}"
    - Check wordlist exists: if not, warn and print "make wordlists" instruction, then exit 1
    - safety_banner
    - Educational context: "Why enumerate directories?" explaining hidden admin panels, backup files, config files
    - 10 numbered examples focused on directory discovery scenarios:
      1) Quick scan with common wordlist
      2) Scan with extensions (-x php,html,bak,txt)
      3) Follow redirects (-r flag)
      4) Recursive scan (-r not available in dir mode -- explain limitation, suggest re-running on discovered dirs)
      5) Scan with custom User-Agent
      6) Only show 200/301 status codes (-s 200,301)
      7) Larger wordlist scan
      8) Add cookies for authenticated scanning
      9) Set timeout per request (-to 10)
      10) Output to file for later analysis (-o)
    - Interactive demo: same wordlist check pattern, then run gobuster dir with common.txt at -t 10

    **enumerate-subdomains.sh** (use-case script):
    - Source common.sh, show_help, help flag check
    - require_cmd gobuster with same install hint
    - TARGET="${1:-example.com}" (sensible default -- domain, not URL)
    - WORDLIST="${2:-$PROJECT_ROOT/wordlists/subdomains-top1million-5000.txt}"
    - Check wordlist exists: if not, warn and print "make wordlists" instruction, then exit 1
    - safety_banner
    - Educational context: "Why enumerate subdomains?" explaining attack surface discovery, shadow IT, forgotten services
    - 10 numbered examples focused on DNS subdomain discovery:
      1) Basic subdomain enumeration with -do flag (NOT -d)
      2) Use custom DNS resolver (-r 8.8.8.8:53)
      3) Show CNAME records (--show-cname)
      4) Show IP addresses (-i flag)
      5) Wildcard detection (gobuster handles this automatically -- explain)
      6) Multiple resolvers for reliability
      7) Increase threads for larger wordlists (-t 20)
      8) Output to file (-o)
      9) Combine with larger wordlist
      10) Quiet mode -- only show found subdomains (-q)
    - Interactive demo: same wordlist check, then run gobuster dns -do $TARGET -w $WORDLIST -t 10

    All scripts must use "echo" for command display (not running commands), follow the info "N) Title" + echo "   command" format exactly as traceroute/examples.sh does.
  </action>
  <verify>
    bash scripts/gobuster/examples.sh --help
    bash scripts/gobuster/discover-directories.sh --help
    bash scripts/gobuster/enumerate-subdomains.sh --help
    All three should print help and exit 0.
    shellcheck scripts/gobuster/*.sh (if available) should show no errors.
  </verify>
  <done>
    Three scripts exist in scripts/gobuster/, each following the established pattern with show_help, require_cmd, safety_banner, 10 numbered examples, and interactive demo with wordlist existence check.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate gobuster into check-tools.sh, Makefile, and create site page</name>
  <files>
    scripts/check-tools.sh
    Makefile
    site/src/content/docs/tools/gobuster.mdx
  </files>
  <action>
    **check-tools.sh changes:**
    1. Add gobuster to TOOLS associative array:
       [gobuster]="brew install gobuster (or: go install github.com/OJ/gobuster/v3@latest)"
    2. Add gobuster to TOOL_ORDER array (append after mtr):
       TOOL_ORDER=(... mtr gobuster)
       Note: Only add gobuster in this plan. ffuf will be added in plan 07-02.
    3. Add gobuster case to get_version():
       gobuster)
           gobuster version 2>/dev/null | head -1
           ;;
       Place before the *) default case, after the traceroute) case.

    **Makefile changes:**
    1. Add gobuster, discover-dirs, enum-subdomains to .PHONY line
    2. Add targets after the traceroute section:

       gobuster: ## Run gobuster examples (usage: make gobuster TARGET=<url>)
       	@bash scripts/gobuster/examples.sh $(TARGET)

       discover-dirs: ## Discover directories (usage: make discover-dirs TARGET=<url>)
       	@bash scripts/gobuster/discover-directories.sh $(or $(TARGET),http://localhost:8080)

       enum-subdomains: ## Enumerate subdomains (usage: make enum-subdomains TARGET=<domain>)
       	@bash scripts/gobuster/enumerate-subdomains.sh $(or $(TARGET),example.com)

    Note: Only add gobuster targets in this plan. ffuf targets will be added in plan 07-02.

    **gobuster.mdx site page:**
    Create site/src/content/docs/tools/gobuster.mdx following the traceroute.mdx pattern exactly:
    - Frontmatter: title "gobuster -- Web Content Discovery", description, sidebar order 17 (after tshark at 16)
    - import { Tabs, TabItem } from '@astrojs/starlight/components'
    - "What It Does" section: gobuster enumerates directories/files, DNS subdomains, and virtual hosts using wordlists
    - "Running the Examples Script" section with bash and make commands
    - "Key Flags to Remember" table: -u (URL), -w (wordlist), -t (threads), -x (extensions), -s (status codes), -b (blacklist status), -o (output), -r (follow redirects), -H (headers), -do (DNS domain), --append-domain (vhost mode), -i (show IPs for DNS)
    - "Install" section with 3 OS tabs:
      macOS: brew install gobuster
      Debian/Ubuntu: sudo apt install gobuster
      Go install: go install github.com/OJ/gobuster/v3@latest
    - "Use-Case Scripts" section with discover-directories.sh and enumerate-subdomains.sh descriptions and key commands (same format as traceroute.mdx)
    - "Notes" section covering: wordlist requirement, -do flag (not -d) for DNS mode in v3.6+, thread count recommendation (-t 10 for lab targets), --append-domain needed for vhost mode
    - "Related Tools" section linking to ffuf, nikto, nmap
  </action>
  <verify>
    bash scripts/check-tools.sh 2>&1 | grep -i gobuster
    make help | grep -i gobuster
    make help | grep -i discover-dirs
    make help | grep -i enum-subdomains
    bash scripts/check-docs-completeness.sh 2>&1 (should not fail on gobuster)
  </verify>
  <done>
    make check shows gobuster detection status with install hint, make help lists gobuster/discover-dirs/enum-subdomains targets, and check-docs-completeness.sh does not report gobuster as missing a docs page.
  </done>
</task>

</tasks>

<verification>
1. bash scripts/gobuster/examples.sh --help exits 0
2. bash scripts/gobuster/discover-directories.sh --help exits 0
3. bash scripts/gobuster/enumerate-subdomains.sh --help exits 0
4. bash scripts/check-tools.sh shows gobuster in output
5. make help shows gobuster, discover-dirs, enum-subdomains
6. bash scripts/check-docs-completeness.sh passes (or only fails for ffuf which is in plan 07-02)
7. grep -c 'gobuster' scripts/check-tools.sh returns matches for TOOLS, TOOL_ORDER, and get_version
</verification>

<success_criteria>
- scripts/gobuster/examples.sh prints 10 numbered educational gobuster examples with safety_banner
- scripts/gobuster/discover-directories.sh prints 10 directory discovery examples with wordlist existence check
- scripts/gobuster/enumerate-subdomains.sh prints 10 subdomain enumeration examples using -do flag (not -d)
- check-tools.sh detects gobuster with version via "gobuster version" subcommand
- Makefile has gobuster, discover-dirs, enum-subdomains targets
- gobuster.mdx exists with install tabs, key flags, use-case descriptions
</success_criteria>

<output>
After completion, create `.planning/phases/07-web-enumeration-tools/07-01-SUMMARY.md`
</output>
