---
phase: 07-web-enumeration-tools
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - wordlists/download.sh
  - USECASES.md
autonomous: true

must_haves:
  truths:
    - "Running make wordlists downloads SecLists common.txt, directory-list-2.3-small.txt, and subdomains-top1million-5000.txt alongside existing rockyou.txt"
    - "Re-running make wordlists skips already-downloaded files"
    - "USECASES.md has entries for gobuster and ffuf use-case scripts"
  artifacts:
    - path: "wordlists/download.sh"
      provides: "Downloads 4 wordlists (rockyou + 3 SecLists)"
      contains: "common.txt"
    - path: "USECASES.md"
      provides: "Updated use-case reference with web enumeration entries"
      contains: "discover-dirs"
  key_links:
    - from: "wordlists/download.sh"
      to: "scripts/common.sh"
      via: "source directive"
      pattern: 'source.*common\.sh'
    - from: "wordlists/download.sh"
      to: "https://raw.githubusercontent.com/danielmiessler/SecLists"
      via: "curl download URLs"
      pattern: "danielmiessler/SecLists"
    - from: "Makefile"
      to: "wordlists/download.sh"
      via: "wordlists target (already exists)"
      pattern: "wordlists:.*download\\.sh"
---

<objective>
Extend the wordlist download helper to fetch three SecLists wordlists for gobuster/ffuf, and update USECASES.md with web enumeration entries.

Purpose: Make gobuster and ffuf immediately usable by providing the wordlists they need, and ensure the use-case reference stays complete.
Output: Updated wordlists/download.sh with 3 additional downloads, updated USECASES.md with web enumeration section.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-web-enumeration-tools/07-RESEARCH.md

@wordlists/download.sh
@USECASES.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend wordlist download helper with SecLists wordlists</name>
  <files>wordlists/download.sh</files>
  <action>
    Extend the existing wordlists/download.sh to download 3 additional SecLists files after the existing rockyou.txt download. Keep the existing rockyou.txt block unchanged.

    Update the header comment to mention web enumeration wordlists:
    # wordlists/download.sh -- Download wordlists for password cracking and web enumeration

    Update the info header:
    info "=== Wordlist Downloader ==="

    After the existing rockyou.txt block, add a separator and 3 new download blocks:

    echo ""
    info "--- Web Enumeration Wordlists (SecLists) ---"
    echo ""

    **1. common.txt** (~4,700 entries, ~40KB):
    COMMON_URL="https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/common.txt"
    COMMON="${WORDLIST_DIR}/common.txt"
    - If exists: info "common.txt already exists ($(wc -l < "$COMMON" | tr -d ' ') entries)"
    - If not: info "Downloading SecLists common.txt (~40KB)...", curl -L -o, success/error message

    **2. directory-list-2.3-small.txt** (~87,000 entries, ~1MB):
    DIRLIST_URL="https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/directory-list-2.3-small.txt"
    DIRLIST="${WORDLIST_DIR}/directory-list-2.3-small.txt"
    - Same check/download/verify pattern

    **3. subdomains-top1million-5000.txt** (~5,000 entries, ~35KB):
    SUBDOMAINS_URL="https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/DNS/subdomains-top1million-5000.txt"
    SUBDOMAINS="${WORDLIST_DIR}/subdomains-top1million-5000.txt"
    - Same check/download/verify pattern

    Follow the exact same pattern as the existing rockyou.txt block for each: check exists, download if missing, verify and report.

    Add a final summary at the end:
    echo ""
    info "Wordlist directory: ${WORDLIST_DIR}"
    info "Use with: gobuster dir -w wordlists/common.txt -u <target>"
    info "     or:  ffuf -w wordlists/common.txt -u <target>/FUZZ"

    All .txt files in wordlists/ are already gitignored so no .gitignore changes needed.
  </action>
  <verify>
    bash wordlists/download.sh --help 2>&1 || true (script may not have --help, that's fine)
    grep -c "SecLists" wordlists/download.sh should return at least 3
    grep -c "curl" wordlists/download.sh should return at least 4 (1 rockyou + 3 new)
  </verify>
  <done>
    wordlists/download.sh downloads rockyou.txt plus common.txt, directory-list-2.3-small.txt, and subdomains-top1million-5000.txt from SecLists. Existing downloads are skipped. The existing "make wordlists" target works without changes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add web enumeration entries to USECASES.md</name>
  <files>USECASES.md</files>
  <action>
    Add a new "Web Enumeration & Fuzzing" section to USECASES.md. Insert it after the "Web Application Testing" section (after the SQL Injection section's table, before Password Cracking).

    New section:

    ## Web Enumeration & Fuzzing

    | I want to... | Command | Tool |
    | -------------- | --------- | ------ |
    | Discover hidden directories and files | `make discover-dirs TARGET=<url>` | gobuster |
    | Enumerate subdomains | `make enum-subdomains TARGET=<domain>` | gobuster |
    | Fuzz GET/POST parameters | `make fuzz-params TARGET=<url>` | ffuf |
    | Download wordlists for enumeration | `make wordlists` | curl |

    Also update the "Typical Engagement Flow" section at the bottom. Insert a step 2b between port scan and web scan:

    2b. Enumerate    make discover-dirs TARGET=<url>
                     make fuzz-params TARGET=<url>

    The existing step numbering should flow: 1 Discovery -> 1b Diagnostics -> 1c Route trace -> 2 Port scan -> 2b Enumerate -> 3 Web scan -> ...
  </action>
  <verify>
    grep -c "gobuster\|ffuf" USECASES.md should return at least 3
    grep "discover-dirs" USECASES.md should show the new entry
    grep "fuzz-params" USECASES.md should show the new entry
  </verify>
  <done>
    USECASES.md contains a "Web Enumeration & Fuzzing" section with gobuster and ffuf entries, and the Typical Engagement Flow includes an enumeration step.
  </done>
</task>

</tasks>

<verification>
1. grep -c "SecLists" wordlists/download.sh returns >= 3
2. grep "common.txt" wordlists/download.sh shows the download URL and path
3. grep "directory-list" wordlists/download.sh shows the larger wordlist download
4. grep "subdomains" wordlists/download.sh shows the subdomain wordlist download
5. grep "discover-dirs" USECASES.md shows the gobuster use-case entry
6. grep "fuzz-params" USECASES.md shows the ffuf use-case entry
7. grep "Enumerate" USECASES.md shows the engagement flow update
</verification>

<success_criteria>
- wordlists/download.sh downloads 4 wordlists total (rockyou.txt + 3 SecLists files)
- Already-downloaded files are skipped with entry count displayed
- USECASES.md has Web Enumeration & Fuzzing section with gobuster and ffuf entries
- Typical Engagement Flow includes enumeration step
- make wordlists target works without Makefile changes (already points to download.sh)
</success_criteria>

<output>
After completion, create `.planning/phases/07-web-enumeration-tools/07-03-SUMMARY.md`
</output>
