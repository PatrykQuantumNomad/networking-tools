---
phase: 08-theme-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - site/src/styles/custom.css
  - site/astro.config.mjs
autonomous: true

must_haves:
  truths:
    - "All UI accent elements (links, sidebar highlights, buttons, focus rings) render in orange/amber tones in dark mode"
    - "Light mode accent colors are visible and readable against white/light backgrounds (no invisible orange-on-white links)"
    - "Code blocks on tool documentation pages remain readable with adequate syntax highlighting contrast"
    - "Existing pages with Tabs components (tool install instructions) render correctly with the new palette"
  artifacts:
    - path: "site/src/styles/custom.css"
      provides: "CSS custom property overrides for orange/amber accent palette (dark + light mode)"
      contains: "--sl-color-accent"
    - path: "site/astro.config.mjs"
      provides: "customCss registration pointing to custom.css"
      contains: "customCss"
  key_links:
    - from: "site/astro.config.mjs"
      to: "site/src/styles/custom.css"
      via: "customCss array reference"
      pattern: "customCss.*custom\\.css"
    - from: "site/src/styles/custom.css"
      to: "Starlight props.css variables"
      via: "CSS custom property override (unlayered CSS beats Starlight layers)"
      pattern: "--sl-color-accent"
---

<objective>
Apply a dark + orange/amber accent color palette to the Starlight documentation site by overriding CSS custom properties, with proper light mode contrast.

Purpose: Replace the default blue Starlight accent with an orange/amber theme that gives the pentesting toolkit a distinct visual identity. This is the foundation for all subsequent v1.1 visual work (logo, navigation, homepage).

Output: A themed site where all UI accent elements (links, sidebar, tabs, buttons, focus rings, search highlights) render in orange/amber tones in both dark and light modes with adequate contrast.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-theme-foundation/08-RESEARCH.md
@site/astro.config.mjs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create orange/amber CSS custom property overrides for dark and light modes</name>
  <files>site/src/styles/custom.css</files>
  <action>
Create the directory `site/src/styles/` and the file `site/src/styles/custom.css`.

Write CSS custom property overrides on `:root` (dark mode) and `:root[data-theme='light']` (light mode) selectors ONLY. Do NOT write any bare element selectors, class selectors, or component-level styles -- unlayered CSS unconditionally overrides all Starlight cascade layers, so only variable overrides are safe.

**Dark mode (`:root`):**
- Override `--sl-color-accent-low`, `--sl-color-accent`, `--sl-color-accent-high` with orange/amber HSL values. Use the research starting points as a baseline (hsl(30, 50%, 18%), hsl(35, 95%, 55%), hsl(38, 95%, 80%)) and tune for a cohesive pentesting/hacker aesthetic.
- Optionally override gray scale variables (`--sl-color-black`, `--sl-color-gray-6`, `--sl-color-gray-5`) for a deeper dark background if it improves the aesthetic. Only do this if the result looks good -- default grays are fine if they work.

**Light mode (`:root[data-theme='light']`):**
- Override `--sl-color-accent-low`, `--sl-color-accent`, `--sl-color-accent-high` with DARKER amber values that pass WCAG AA contrast against white/light backgrounds. The critical variable is `--sl-color-accent-high` which in light mode means "dark accent for emphasis" -- it must have at least 4.5:1 contrast ratio against white. Use approximately hsl(30, 80%, 25%) for accent-high. Research confirms standard amber (#f59e0b) on white is only 2.7:1 (fails AA).
- `--sl-color-accent-low` should be a subtle warm background tint (high lightness, e.g., hsl(38, 90%, 90%)).
- `--sl-color-accent` should be a mid-tone amber dark enough for body text contrast (e.g., hsl(35, 90%, 48%)).

**Anti-patterns to avoid (per research):**
- Do NOT use `!important` (never needed -- unlayered CSS already wins)
- Do NOT override derived variables like `--sl-color-text-accent` (they auto-inherit from the three accent source variables)
- Do NOT add bare element selectors (`a {}`, `button {}`, `code {}`)
- Do NOT forget the light mode selector (leaving it out means light mode inherits dark mode values = unreadable)

Add clear comments in the CSS file explaining the variable system, the dark/light mode separation, and why only `:root` variable overrides are used.
  </action>
  <verify>
Run `cd /Users/patrykattc/work/git/networking-tools/site && npx astro build` -- build must succeed with no errors. Verify the file exists and contains only `:root` selectors (no bare element/class selectors): `grep -v "^[[:space:]]*$\|^[[:space:]]*/\*\|^[[:space:]]*\*\|^[[:space:]]*--\|^[[:space:]]*}\|^:root" site/src/styles/custom.css` should return nothing (all non-comment, non-variable, non-closing-brace lines should be `:root` selectors only).
  </verify>
  <done>
`site/src/styles/custom.css` exists with orange/amber accent overrides for both `:root` (dark) and `:root[data-theme='light']` selectors. No bare element or class selectors present. File contains overrides for `--sl-color-accent-low`, `--sl-color-accent`, and `--sl-color-accent-high` in both modes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Register custom CSS in Astro config and validate the themed build</name>
  <files>site/astro.config.mjs</files>
  <action>
Add `customCss: ['./src/styles/custom.css']` to the Starlight integration options in `site/astro.config.mjs`. Place it after the `description` field and before the `social` array. Example:

```javascript
starlight({
  title: 'Networking Tools',
  description: 'Pentesting and network diagnostic learning lab',
  customCss: ['./src/styles/custom.css'],
  social: [
    // ... existing social config
  ],
  sidebar: [
    // ... existing sidebar config
  ],
}),
```

Do NOT change any other configuration. The only modification is adding the `customCss` line.

After modifying the config, run a full build (`cd site && npx astro build`) to confirm the site compiles successfully with the custom CSS registered. The build output should show no warnings about missing CSS files or invalid custom properties.

Note: If using the dev server for validation, it MUST be restarted after this config change (Astro does not hot-reload config file changes). CSS file content changes will hot-reload after the initial restart.
  </action>
  <verify>
Run `cd /Users/patrykattc/work/git/networking-tools/site && npx astro build` -- must complete successfully with exit code 0. Verify the customCss line is present: `grep "customCss" site/astro.config.mjs` should match. Verify the built output includes the custom CSS by checking that accent color values appear in the built HTML/CSS: inspect a built page for orange/amber color references.
  </verify>
  <done>
`site/astro.config.mjs` contains `customCss: ['./src/styles/custom.css']` in the Starlight config. Site builds successfully. The orange/amber accent palette is applied to all pages -- links, sidebar highlights, tab borders, focus rings, and search highlights all use the new accent colors in both dark and light modes.
  </done>
</task>

</tasks>

<verification>
1. `cd /Users/patrykattc/work/git/networking-tools/site && npx astro build` completes with exit code 0
2. `site/src/styles/custom.css` exists and contains `--sl-color-accent` overrides for both `:root` and `:root[data-theme='light']`
3. `site/astro.config.mjs` contains `customCss: ['./src/styles/custom.css']`
4. No bare element or class selectors in `custom.css` (only `:root` variable overrides)
5. Built output includes the custom accent color values (not the default Starlight blue)
</verification>

<success_criteria>
- Site builds successfully with orange/amber accent palette applied
- Dark mode: accent elements (links, sidebar, tabs, buttons) render in orange/amber tones
- Light mode: accent elements use darker amber values with adequate contrast against white backgrounds
- Code blocks remain readable (syntax highlighting unaffected by accent changes)
- Tabs components on tool pages render correctly with new accent border colors
- Only 2 files modified: custom.css (created) and astro.config.mjs (one line added)
</success_criteria>

<output>
After completion, create `.planning/phases/08-theme-foundation/08-01-SUMMARY.md`
</output>
