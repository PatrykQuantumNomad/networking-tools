---
phase: 10-navigation-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - site/src/content/docs/tools/index.md
  - site/src/content/docs/guides/index.md
  - site/src/content/docs/diagnostics/index.md
autonomous: true

must_haves:
  truths:
    - "Sidebar 'Tools' group no longer contains a redundant 'Tools' link"
    - "Sidebar 'Guides' group no longer contains a redundant 'Guides' link"
    - "Sidebar 'Diagnostics' group no longer contains a redundant 'Diagnostics' link"
    - "All individual tool, guide, and diagnostic pages remain in the sidebar"
    - "Index pages are still accessible via direct URL (not deleted, just hidden from sidebar)"
  artifacts:
    - path: "site/src/content/docs/tools/index.md"
      provides: "Tools landing page hidden from sidebar"
      contains: "sidebar:"
    - path: "site/src/content/docs/guides/index.md"
      provides: "Guides landing page hidden from sidebar"
      contains: "sidebar:"
    - path: "site/src/content/docs/diagnostics/index.md"
      provides: "Diagnostics landing page hidden from sidebar"
      contains: "sidebar:"
  key_links:
    - from: "site/src/content/docs/tools/index.md"
      to: "Starlight sidebar autogenerate filter"
      via: "sidebar.hidden frontmatter property"
      pattern: "hidden:\\s*true"
    - from: "site/src/content/docs/guides/index.md"
      to: "Starlight sidebar autogenerate filter"
      via: "sidebar.hidden frontmatter property"
      pattern: "hidden:\\s*true"
    - from: "site/src/content/docs/diagnostics/index.md"
      to: "Starlight sidebar autogenerate filter"
      via: "sidebar.hidden frontmatter property"
      pattern: "hidden:\\s*true"
---

<objective>
Hide redundant sidebar index entries for Tools, Guides, and Diagnostics sections.

Purpose: Each section's index.md currently appears as a clickable link inside its own sidebar group (e.g., a "Tools" link inside the "Tools" group). This is redundant since the group header already identifies the section. Hiding these entries produces a cleaner sidebar.

Output: Three modified index.md files with `sidebar.hidden: true` frontmatter.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-navigation-cleanup/10-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add sidebar.hidden frontmatter to section index pages</name>
  <files>
    site/src/content/docs/tools/index.md
    site/src/content/docs/guides/index.md
    site/src/content/docs/diagnostics/index.md
  </files>
  <action>
    Add `sidebar: { hidden: true }` to the YAML frontmatter of three files. Do NOT delete any files or modify any content outside the frontmatter block.

    For each file, add the `sidebar` block after the existing `description` field:

    **tools/index.md** -- change frontmatter to:
    ```yaml
    ---
    title: Tools
    description: Security and networking tool references
    sidebar:
      hidden: true
    ---
    ```

    **guides/index.md** -- change frontmatter to:
    ```yaml
    ---
    title: Guides
    description: Getting started and learning paths
    sidebar:
      hidden: true
    ---
    ```

    **diagnostics/index.md** -- change frontmatter to:
    ```yaml
    ---
    title: Diagnostics
    description: Network diagnostic scripts and reports
    sidebar:
      hidden: true
    ---
    ```

    Do NOT modify `astro.config.mjs` -- the `autogenerate` sidebar config stays as-is.
    Do NOT modify or delete the page body content below the frontmatter in any file.
    Do NOT touch `site/src/content/docs/index.md` (the homepage) -- it uses `template: splash` and is not part of any sidebar group.
  </action>
  <verify>
    1. Run `cd site && npm run build` -- must complete with zero errors.
    2. Grep all three files to confirm `hidden: true` is present:
       `grep -l "hidden: true" site/src/content/docs/tools/index.md site/src/content/docs/guides/index.md site/src/content/docs/diagnostics/index.md`
       -- should return all three file paths.
    3. Confirm page body content is preserved (not accidentally deleted):
       `grep "Documentation for each tool" site/src/content/docs/tools/index.md`
       `grep "Step-by-step guides" site/src/content/docs/guides/index.md`
       `grep "Auto-report diagnostic" site/src/content/docs/diagnostics/index.md`
  </verify>
  <done>
    All three index pages have `sidebar.hidden: true` in their frontmatter. The site builds successfully. The page body content in all three files is unchanged.
  </done>
</task>

</tasks>

<verification>
1. `cd site && npm run build` completes without errors -- confirms Starlight accepts the frontmatter and all pages still resolve.
2. All three index.md files contain `sidebar:` and `hidden: true` in their frontmatter.
3. No other files were modified (git diff shows only the three index.md files).
4. Page content below frontmatter is preserved in all three files.
</verification>

<success_criteria>
- NAV-01 satisfied: Sidebar groups for Tools, Guides, and Diagnostics no longer show redundant self-referencing index entries.
- No pages lost: All individual tool, guide, and diagnostic pages remain in the sidebar. The three index pages remain accessible via direct URL.
- Site builds cleanly with no errors or warnings related to the changes.
</success_criteria>

<output>
After completion, create `.planning/phases/10-navigation-cleanup/10-01-SUMMARY.md`
</output>
